<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Welcome to Butterfly Backup’s documentation! &mdash; Butterfly Backup  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="#" class="icon icon-home"> Butterfly Backup
          </a>
              <div class="version">
                1.9.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Welcome to Butterfly Backup’s documentation!</a><ul>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
<li><a class="reference internal" href="#requirements">Requirements</a><ul>
<li><a class="reference internal" href="#test">Test</a></li>
<li><a class="reference internal" href="#installation">Installation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#core-concept">Core concept</a></li>
<li><a class="reference internal" href="#config">Config</a><ul>
<li><a class="reference internal" href="#cygwin-on-windows">Cygwin on Windows</a></li>
</ul>
</li>
<li><a class="reference internal" href="#backup">Backup</a><ul>
<li><a class="reference internal" href="#single-backup">Single backup</a></li>
<li><a class="reference internal" href="#bulk-backup">Bulk backup</a></li>
</ul>
</li>
<li><a class="reference internal" href="#list">List</a></li>
<li><a class="reference internal" href="#restore">Restore</a></li>
<li><a class="reference internal" href="#archive">Archive</a></li>
<li><a class="reference internal" href="#export">Export</a></li>
<li><a class="reference internal" href="#donations">Donations</a></li>
</ul>
</li>
</ul>
</div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">Butterfly Backup</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active">Welcome to Butterfly Backup’s documentation!</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="welcome-to-butterfly-backup-s-documentation">
<h1>Welcome to Butterfly Backup’s documentation!<a class="headerlink" href="#welcome-to-butterfly-backup-s-documentation" title="Permalink to this heading"></a></h1>
<div class="toctree-wrapper compound">
</div>
<section id="indices-and-tables">
<h2>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="#requirements"><span class="std std-ref">Requirements</span></a></p></li>
<li><p><a class="reference internal" href="#core"><span class="std std-ref">Core concept</span></a></p></li>
<li><p><a class="reference internal" href="#config"><span class="std std-ref">Config</span></a></p></li>
<li><p><a class="reference internal" href="#backup"><span class="std std-ref">Backup</span></a></p></li>
<li><p><a class="reference internal" href="#list"><span class="std std-ref">List</span></a></p></li>
<li><p><a class="reference internal" href="#restore"><span class="std std-ref">Restore</span></a></p></li>
<li><p><a class="reference internal" href="#archive"><span class="std std-ref">Archive</span></a></p></li>
<li><p><a class="reference internal" href="#export"><span class="std std-ref">Export</span></a></p></li>
<li><p><a class="reference internal" href="#donations"><span class="std std-ref">Donations</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</section>
<section id="requirements">
<span id="id1"></span><h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this heading"></a></h2>
<p>Butterfly Backup is a <em>simple</em> wrapper of rsync written in python; this means the first requirements is python3.3 or higher.
The other requirement is a <strong>openssh</strong> and <strong>rsync</strong> (version 2.5 or higher).
Ok, let’s go!</p>
<section id="test">
<h3>Test<a class="headerlink" href="#test" title="Permalink to this heading"></a></h3>
<p>If you want to try or test Butterfly Backup before installing it, run the test:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">arthur@heartofgold$ </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/MatteoGuadrini/Butterfly-Backup.git
<span class="gp">arthur@heartofgold$ </span><span class="nb">cd</span><span class="w"> </span>Butterfly-Backup
<span class="gp">arthur@heartofgold$ </span>bash<span class="w"> </span>test_bb.py
</pre></div>
</div>
</section>
<section id="installation">
<h3>Installation<a class="headerlink" href="#installation" title="Permalink to this heading"></a></h3>
<p>Install Butterfly Backup is very simple; run this:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">arthur@heartofgold$ </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/MatteoGuadrini/Butterfly-Backup.git
<span class="gp">arthur@heartofgold$ </span><span class="nb">cd</span><span class="w"> </span>Butterfly-Backup
<span class="gp">arthur@heartofgold$ </span>sudo<span class="w"> </span>python3<span class="w"> </span>setup.py<span class="w"> </span>install<span class="w"> </span>-f<span class="w"> </span><span class="c1"># -f is for upgrade</span>
<span class="gp">arthur@heartofgold$ </span>bb<span class="w"> </span>--help
<span class="gp">arthur@heartofgold$ </span>man<span class="w"> </span>bb
</pre></div>
</div>
<p>The upgrade is also simple; type the same commands.</p>
</section>
</section>
<section id="core-concept">
<span id="core"></span><h2>Core concept<a class="headerlink" href="#core-concept" title="Permalink to this heading"></a></h2>
<p>Butterfly Backup it is a server to client tool. It must be installed on a server (for example a workstation PC),
from where it will contact the clients on which it will perform the backup. Also for the restore the concept is the same;
the server pushes files into the client.</p>
<p>Backups are organized according to precise cataloguing; this is an example:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">arthur@heartofgold$ </span>tree<span class="w"> </span>destination/of/backup
<span class="go">.</span>
<span class="go">├── destination</span>
<span class="go">│   ├── hostname or ip of the PC under backup</span>
<span class="go">│   │   ├── timestamp folder</span>
<span class="go">│   │   │   ├── backup folders</span>
<span class="go">│   │   │   ├── backup.log</span>
<span class="go">│   │   │   └── restore.log</span>
<span class="go">│   │   ├─── general.log</span>
<span class="go">│   │   └─── symlink of last backup</span>
<span class="go">│</span>
<span class="go">├── export.log</span>
<span class="go">├── backup.list</span>
<span class="go">└── .catalog.cfg</span>
</pre></div>
</div>
<p>This is how the operating system sees the backups on the file system:</p>
<ul class="simple">
<li><p><strong>destination</strong>: it is the destination of all backup of all machine under Butterfly Backup system; this is root.</p></li>
<li><p><strong>hostname or ip of the PC under backup</strong>: it is the root of every machine under backup; contains all the backups.</p></li>
<li><p><strong>timestamp folder</strong>: this is a single backup folder; contains all the data that have been backed up.</p></li>
<li><p><strong>backup.log</strong>: if enabled, it is the log generated by rsync for backup operation.</p></li>
<li><p><strong>restore.log</strong>: if enabled, it is the log generated by rsync for restore operation.</p></li>
<li><p><strong>general.log</strong>: if enabled, it is the general log of the machine; contains all the info, warnings and errors generated during the backup.</p></li>
<li><p><strong>symlink of last backup</strong>: this is a symbolic link of the last backup made. Isn’t supported if you use an MS-DOS file system.</p></li>
<li><p><strong>backup.list</strong>: if enabled, it is the log generated by list operation.</p></li>
<li><p><strong>export.log</strong>: if enabled, it is the log generated by export operation.</p></li>
<li><p><strong>.catalog.cfg</strong>: is the log that contains the catalog of all backups. The file is the reference of Butterfly Backup to perform future backups.</p></li>
</ul>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Be careful to not delete <em>.catalog.cfg</em> file. If you want to initialize the backup catalog, just run this command: <code class="docutils literal notranslate"><span class="pre">bb</span> <span class="pre">config</span> <span class="pre">--init</span> <span class="pre">/catalog/path</span></code>.</p>
</div>
<p>Butterfly Backup has, in its core, six main operations:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">arthur@heartofgold$ </span>bb<span class="w"> </span>--help
<span class="go">usage: bb [-h] [--verbose] [--log] [--dry-run] [--version]</span>
<span class="go">          {config,backup,restore,archive,list,export} ...</span>

<span class="go">Butterfly Backup</span>

<span class="go">optional arguments:</span>
<span class="go">  -h, --help            show this help message and exit</span>
<span class="go">  --verbose, -v         Enable verbosity</span>
<span class="go">  --log, -l             Create a log</span>
<span class="go">  --dry-run, -N         Dry run mode</span>
<span class="go">  --version, -V         Print version</span>

<span class="go">action:</span>
<span class="go">  Valid action</span>

<span class="go">  {config,backup,restore,archive,list,export}</span>
<span class="go">                        Available actions</span>
<span class="go">    config              Configuration options</span>
<span class="go">    backup              Backup options</span>
<span class="go">    restore             Restore options</span>
<span class="go">    archive             Archive options</span>
<span class="go">    list                List options</span>
<span class="go">    export              Export options</span>
</pre></div>
</div>
<p>Valid action</p>
<ul class="simple">
<li><p><strong>config</strong>: operations involving OpenSSH and its configurations (not mandatory).</p></li>
<li><p><strong>backup</strong>: transactions that call rsync, in a single process or across multiple processes in case of a list.</p></li>
<li><p><strong>restore</strong>: transactions that call rsync for pushing files to a client.</p></li>
<li><p><strong>archive</strong>: transaction that zip old backups and move them to a new destination.</p></li>
<li><p><strong>list</strong>: query the catalog.</p></li>
<li><p><strong>export</strong>: export a single backup to other path.</p></li>
</ul>
<p>It also has three flags that can be very useful, especially in case of error.</p>
<blockquote>
<div><dl class="option-list">
<dt><kbd><span class="option">-h</span>, <span class="option">--help</span></kbd></dt>
<dd><p>show help message and exit</p>
</dd>
<dt><kbd><span class="option">--verbose</span>, <span class="option">-v</span></kbd></dt>
<dd><p>Enable verbosity</p>
</dd>
<dt><kbd><span class="option">--log</span>, <span class="option">-l</span></kbd></dt>
<dd><p>Create a log</p>
</dd>
<dt><kbd><span class="option">--dry-run</span>, <span class="option">-N</span></kbd></dt>
<dd><p>Dry run mode, test your command</p>
</dd>
<dt><kbd><span class="option">--version</span>, <span class="option">-V</span></kbd></dt>
<dd><p>Print version</p>
</dd>
</dl>
</div></blockquote>
</section>
<section id="config">
<span id="id2"></span><h2>Config<a class="headerlink" href="#config" title="Permalink to this heading"></a></h2>
<p>Configuration mode is very simple; If you’re already familiar with the exchange keys and OpenSSH, you probably won’t need it.
If you don’t want to discuss the merits of exchange keys and start, then go ahead. First, you must create a configuration (rsa keys).
Let’s see how to go about looking at the help:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">arthur@heartofgold$ </span>bb<span class="w"> </span>config<span class="w"> </span>--help
<span class="go">usage: bb config [-h] [--verbose] [--log] [--dry-run] [--new | --remove | --init CATALOG | --delete-host CATALOG HOST | --clean CATALOG | --delete-backup CATALOG ID] [--deploy DEPLOY_HOST] [--user DEPLOY_USER]</span>

<span class="go">options:</span>
<span class="go">-h, --help            show this help message and exit</span>
<span class="go">--verbose, -v         Enable verbosity</span>
<span class="go">--log, -l             Create logs</span>
<span class="go">--dry-run, -N         Dry run mode</span>

<span class="go">Init configuration:</span>
<span class="go">--new, -n             Generate new configuration</span>
<span class="go">--remove, -r          Remove exist configuration</span>
<span class="go">--init CATALOG, -i CATALOG</span>
<span class="go">                      Reset CATALOG file. Specify path of backup folder.</span>
<span class="go">--delete-host CATALOG HOST, -D CATALOG HOST</span>
<span class="go">                      Delete all entry for a single HOST in CATALOG.</span>
<span class="go">--clean CATALOG, -c CATALOG</span>
<span class="go">                      Cleans the CATALOG if it is corrupt, setting default values.</span>
<span class="go">--delete-backup CATALOG ID, -b CATALOG ID</span>
<span class="go">                      Delete specific backup ID from CATALOG</span>

<span class="go">Deploy configuration:</span>
<span class="go">--deploy DEPLOY_HOST, -d DEPLOY_HOST</span>
<span class="go">                      Deploy configuration to client: hostname or ip address</span>
<span class="go">--user DEPLOY_USER, -u DEPLOY_USER</span>
<span class="go">                      User of the remote machine</span>
</pre></div>
</div>
<p>Two macro-options are available:</p>
<ul>
<li><dl>
<dt><strong>Init configuration</strong>: Generate new or remove configuration.</dt><dd><dl class="option-list">
<dt><kbd><span class="option">--new</span>, <span class="option">-n</span></kbd></dt>
<dd><p>Generate new configuration.</p>
</dd>
<dt><kbd><span class="option">--remove</span>, <span class="option">-r</span></kbd></dt>
<dd><p>Remove exist configuration.</p>
</dd>
<dt><kbd><span class="option">--init</span>, <span class="option">-i</span></kbd></dt>
<dd><p>Reset catalog file. Specify path of backup folder.</p>
</dd>
<dt><kbd><span class="option">--delete-host</span>, <span class="option">-D</span></kbd></dt>
<dd><p>Delete all entry for a single host in catalog.</p>
</dd>
<dt><kbd><span class="option">--clean</span>, <span class="option">-c</span></kbd></dt>
<dd><p>Cleans the catalog if it is corrupt, setting default values.</p>
</dd>
<dt><kbd><span class="option">--delete-backup</span>, <span class="option">-b</span></kbd></dt>
<dd><p>Delete specific backup id from catalog.</p>
</dd>
</dl>
</dd>
</dl>
</li>
<li><dl>
<dt><strong>Deploy configuration</strong>: Deploy configuration to client: hostname or ip address.</dt><dd><dl class="option-list">
<dt><kbd><span class="option">--deploy</span>, <span class="option">-d</span></kbd></dt>
<dd><p>Deploy configuration to client: hostname or ip address.</p>
</dd>
<dt><kbd><span class="option">--user</span>, <span class="option">-u</span></kbd></dt>
<dd><p>User of the remote machine.</p>
</dd>
</dl>
</dd>
</dl>
</li>
</ul>
<p>At this point, we create the configuration:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">arthur@heartofgold$ </span>bb<span class="w"> </span>config<span class="w"> </span>--new
<span class="go">warning: Private key ~/.ssh/id_rsa exists</span>
<span class="go">If you want to use the existing key, run &quot;bb config --deploy name_of_machine&quot;, otherwise to remove it, run &quot;bb config --remove&quot;</span>
</pre></div>
</div>
<p>In this case, the RSA key already exists. Now try delete and create a new keys:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">arthur@heartofgold$ </span>bb<span class="w"> </span>config<span class="w"> </span>--remove
<span class="go">Are you sure to remove existing rsa keys? To continue [Y/N]? y</span>
<span class="go">success: Removed configuration successfully!</span>
<span class="gp">arthur@heartofgold$ </span>bb<span class="w"> </span>config<span class="w"> </span>--new
<span class="go">success: New configuration successfully created!</span>
</pre></div>
</div>
<p>Once you have created the configuration, keys should be installed (copied) on the hosts you
want to backup.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">arthur@heartofgold$ </span>bb<span class="w"> </span>config<span class="w"> </span>--deploy<span class="w"> </span>host1
<span class="go">Copying configuration to host1; write the password:</span>
<span class="go">/usr/bin/ssh-copy-id: debug: Source of key(s) to be installed: &quot;/home/arthur/.ssh/id_rsa.pub&quot;</span>
<span class="go">/usr/bin/ssh-copy-id: debug: attempting to log in with the new key(s), to filter out any that are already installed</span>
<span class="go">/usr/bin/ssh-copy-id: debug: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys</span>
<span class="go">arthur@host1&#39;s password:</span>

<span class="go">Number of key(s) added: 1</span>

<span class="go">Now try logging into the machine, with:   &quot;ssh &#39;arthur@host1&#39;&quot;</span>
<span class="go">and check to make sure that only the key(s) you wanted were added.</span>

<span class="go">success: Configuration copied successfully on host1!</span>
</pre></div>
</div>
<p>This command will try to copy the configuration with the current user.
If you want to use a different user (e.g.: root), run this:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">arthur@heartofgold$ </span>bb<span class="w"> </span>config<span class="w"> </span>--deploy<span class="w"> </span>host1<span class="w"> </span>--user<span class="w"> </span>root
<span class="go">Copying configuration to host1; write the password:</span>
<span class="go">/usr/bin/ssh-copy-id: debug: Source of key(s) to be installed: &quot;/home/arthur/.ssh/id_rsa.pub&quot;</span>
<span class="go">/usr/bin/ssh-copy-id: debug: attempting to log in with the new key(s), to filter out any that are already installed</span>
<span class="go">/usr/bin/ssh-copy-id: debug: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys</span>
<span class="go">root@host1&#39;s password:</span>

<span class="go">Number of key(s) added: 1</span>

<span class="go">Now try logging into the machine, with:   &quot;ssh &#39;root@host1&#39;&quot;</span>
<span class="go">and check to make sure that only the key(s) you wanted were added.</span>

<span class="go">success: Configuration copied successfully on host1!</span>
</pre></div>
</div>
<section id="cygwin-on-windows">
<h3>Cygwin on Windows<a class="headerlink" href="#cygwin-on-windows" title="Permalink to this heading"></a></h3>
<p>In order to run Butterfly Backup on Windows hosts, you need to install cygwin.
Download <a class="reference external" href="https://cygwin.com/">https://cygwin.com/</a> cygwin and follow this instructions to install the necessary packages.</p>
<div class="highlight-winbatch notranslate"><div class="highlight"><pre><span></span><span class="p">:</span><span class="c1">: INSTALL SOFTWARE</span>
<span class="p">:</span><span class="c1">: Automates cygwin installation</span>

<span class="k">SETLOCAL</span>

<span class="p">:</span><span class="c1">: Change to the directory of the executing batch file</span>
<span class="k">CD</span> <span class="nv">%~dp0</span>

<span class="p">:</span><span class="c1">: Configure our paths</span>
<span class="k">SET</span> <span class="nv">SITE</span><span class="p">=</span>http://mirrors.kernel.org/sourceware/cygwin/
<span class="k">SET</span> <span class="nv">LOCALDIR</span><span class="p">=</span><span class="nv">%LOCALAPPDATA%</span>/cygwin
<span class="k">SET</span> <span class="nv">ROOTDIR</span><span class="p">=</span>C:/cygwin

<span class="p">:</span><span class="c1">: These are the packages we will install (in addition to the default packages)</span>
<span class="k">SET</span> <span class="nv">PACKAGES</span><span class="p">=</span>mintty,wget,ctags,diffutils,openssh,rsync,cygrunsrv,nano
<span class="k">SET</span> <span class="nv">PACKAGES</span><span class="p">=</span><span class="nv">%PACKAGES%</span>,gcc-core,make,automake,autoconf,readline,libncursesw-devel,libiconv,zlib-devel,gettext

<span class="p">:</span><span class="c1">: Do it!</span>
setup.exe -q -D -L -d -g -o -s <span class="nv">%SITE%</span> -l <span class="s2">&quot;</span><span class="nv">%LOCALDIR%</span><span class="s2">&quot;</span> -R <span class="s2">&quot;</span><span class="nv">%ROOTDIR%</span><span class="s2">&quot;</span> -C Base -P <span class="nv">%PACKAGES%</span> <span class="p">&gt;</span>nul

setx PATH <span class="s2">&quot;</span><span class="nv">%PATH%</span><span class="s2">;/cygdrive/c/cygwin/bin;C:\cygwin\bin&quot;</span> /m

<span class="k">ENDLOCAL</span>

C<span class="p">:</span>
<span class="k">chdir</span> C:\cygwin\bin
mkpasswd -cl <span class="p">&gt;</span> C:\cygwin\etc\passwd
bash ssh-host-config -y
cygrunsrv -S sshd
</pre></div>
</div>
<p>Verify if port 22 is in LISTEN</p>
<p>If you want to initialize or reset the catalog file, run this:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">arthur@heartofgold$ </span>bb<span class="w"> </span>config<span class="w"> </span>--init<span class="w"> </span>/mnt/backup<span class="w"> </span>-v
</pre></div>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>This command preserves existing backups on the file system. It will eliminate only those archived or deleted.</p>
</div>
</section>
</section>
<section id="backup">
<span id="id3"></span><h2>Backup<a class="headerlink" href="#backup" title="Permalink to this heading"></a></h2>
<p>There are two backup modes: single and bulk. Let’s see how to go about looking at the help:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">arthur@heartofgold$ </span>bb<span class="w"> </span>backup<span class="w"> </span>--help
<span class="go">usage: bb backup [-h] [--verbose] [--log] [--dry-run] (--computer HOSTNAME | --list LIST) --destination DESTINATION [--mode {full,incremental,differential,mirror}]</span>
<span class="go">                 (--data {user,config,application,system,log} [{user,config,application,system,log} ...] | --custom-data CUSTOMDATA [CUSTOMDATA ...]) [--user USER] --type {unix,windows,macos}</span>
<span class="go">                 [--compress] [--retention [DAYS [NUMBER ...]]] [--parallel PARALLEL] [--timeout TIMEOUT] [--skip-error] [--rsync-path RSYNC] [--bwlimit BWLIMIT] [--ssh-port PORT]</span>
<span class="go">                 [--exclude EXCLUDE [EXCLUDE ...]] [--start-from ID]</span>

<span class="go">options:</span>
<span class="go">   -h, --help            show this help message and exit</span>
<span class="go">   --verbose, -v         Enable verbosity</span>
<span class="go">   --log, -l             Create logs</span>
<span class="go">   --dry-run, -N         Dry run mode</span>

<span class="go">   Backup options:</span>
<span class="go">   --computer HOSTNAME, -c HOSTNAME</span>
<span class="go">                         Hostname or ip address to backup</span>
<span class="go">   --list LIST, -L LIST  File list of computers or ip addresses to backup</span>
<span class="go">   --destination DESTINATION, -d DESTINATION</span>
<span class="go">                         Destination path</span>
<span class="go">   --mode {full,incremental,differential,mirror}, -m {full,incremental,differential,mirror}</span>
<span class="go">                         Backup mode</span>
<span class="go">   --data {user,config,application,system,log} [{user,config,application,system,log} ...], -D {user,config,application,system,log} [{user,config,application,system,log} ...]</span>
<span class="go">                         Data of which you want to backup</span>
<span class="go">   --custom-data CUSTOMDATA [CUSTOMDATA ...], -C CUSTOMDATA [CUSTOMDATA ...]</span>
<span class="go">                         Custom path of which you want to backup</span>
<span class="go">   --user USER, -u USER  Login name used to log into the remote host (being backed up)</span>
<span class="go">   --type {unix,windows,macos}, -t {unix,windows,macos}</span>
<span class="go">                         Type of operating system to backup</span>
<span class="go">   --compress, -z        Compress data</span>
<span class="go">   --retention [DAYS [NUMBER ...]], -r [DAYS [NUMBER ...]]</span>
<span class="go">                         First argument are days of backup retention. Second argument is minimum number of backup retention</span>
<span class="go">   --parallel PARALLEL, -p PARALLEL</span>
<span class="go">                         Number of parallel jobs</span>
<span class="go">   --timeout TIMEOUT, -T TIMEOUT</span>
<span class="go">                         I/O timeout in seconds</span>
<span class="go">   --skip-error, -e      Skip error</span>
<span class="go">   --rsync-path RSYNC, -R RSYNC</span>
<span class="go">                         Custom rsync path</span>
<span class="go">   --bwlimit BWLIMIT, -b BWLIMIT</span>
<span class="go">                         Bandwidth limit in KBPS.</span>
<span class="go">   --ssh-port PORT, -P PORT</span>
<span class="go">                         Custom ssh port.</span>
<span class="go">   --exclude EXCLUDE [EXCLUDE ...], -E EXCLUDE [EXCLUDE ...]</span>
<span class="go">                         Exclude pattern</span>
<span class="go">   --start-from ID, -s ID</span>
<span class="go">                         Backup id where start a new backup</span>
</pre></div>
</div>
<ul>
<li><dl>
<dt><strong>Backup options</strong></dt><dd><dl class="option-list">
<dt><kbd><span class="option">--computer</span>, <span class="option">-c</span></kbd></dt>
<dd><p>Select the ip or hostname where to perform backup.</p>
</dd>
<dt><kbd><span class="option">--list</span>, <span class="option">-l</span></kbd></dt>
<dd><p>Select the file list of the ip or hostnames, where to perform backups.</p>
<p>[File_list.txt]</p>
<p>host1</p>
<p>192.168.0.1</p>
<p>host2</p>
<p>…</p>
</dd>
<dt><kbd><span class="option">--destination</span>, <span class="option">-d</span></kbd></dt>
<dd><p>Select the destination folder (root).</p>
</dd>
<dt><kbd><span class="option">--mode</span>, <span class="option">-m</span></kbd></dt>
<dd><p>Select how rsync perform backup:</p>
<ul class="simple">
<li><dl class="simple">
<dt><strong>full</strong>:</dt><dd><p>Complete (full) backup.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>incremental</strong>:</dt><dd><p>Incremental backup is based on the latest backup (the same files are linked with hard link).
A Full backup is executed if this mode fails to find one.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>differential</strong>:</dt><dd><p>Incremental backup is based on the latest Full backup (the same files are linked with hard link).
A Full backup is executed if this mode fails to find one.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>mirror</strong>:</dt><dd><p>Complete mirror backup. If a file in the source no longer exists, BB deletes it from the destination.</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt><kbd><span class="option">--data</span>, <span class="option">-D</span></kbd></dt>
<dd><p>Select the type of data to put under backup:
The values change depending on the type of operating system:</p>
<ul class="simple">
<li><p><strong>user</strong> -&gt; folder containing the home.</p></li>
<li><p><strong>config</strong> -&gt; folder containing the configurations of the machine.</p></li>
<li><p><strong>Log</strong> -&gt; folder containing the log.</p></li>
<li><p><strong>Application</strong> -&gt; folder containing applications.</p></li>
<li><p><strong>System</strong> -&gt; the entire system starting from the root.</p></li>
</ul>
</dd>
<dt><kbd><span class="option">--custom-data</span></kbd></dt>
<dd><p>Select the absolute paths to put under backup.</p>
</dd>
<dt><kbd><span class="option">--user</span>, <span class="option">-u</span></kbd></dt>
<dd><p>Login name used to log into the remote host (being backed up)</p>
</dd>
<dt><kbd><span class="option">--type</span>, <span class="option">-t</span></kbd></dt>
<dd><p>Type of operating system to put under backup:</p>
<ul class="simple">
<li><p><strong>unix</strong> -&gt; All UNIX os (Linux, BSD, Solaris).</p></li>
<li><p><strong>windows</strong> -&gt; Windows Vista or higher with cygwin installed.</p></li>
<li><p><strong>macos</strong> -&gt; MacOSX 10.8 or higher.</p></li>
</ul>
</dd>
<dt><kbd><span class="option">--compress</span>, <span class="option">-z</span></kbd></dt>
<dd><p>Compresses the data transmitted.</p>
</dd>
<dt><kbd><span class="option">--retention</span>, <span class="option">-r</span></kbd></dt>
<dd><p>Number of days for which you want to keep your backups
and minimum number of backup retention (optional).</p>
<p>The second number is a minimum number of backup which you want keep.</p>
</dd>
<dt><kbd><span class="option">--parallel</span>, <span class="option">-p</span></kbd></dt>
<dd><p>Maximum number of concurrent rsync processes. By default is 5 jobs.</p>
</dd>
<dt><kbd><span class="option">--timeout</span>, <span class="option">-T</span></kbd></dt>
<dd><p>Specify number of seconds of I/O timeout.</p>
</dd>
<dt><kbd><span class="option">--skip-error</span>, <span class="option">-e</span></kbd></dt>
<dd><p>Skip error. Quiet mode.</p>
</dd>
<dt><kbd><span class="option">--rsync-path</span>, <span class="option">-R</span></kbd></dt>
<dd><p>Select a custom rsync path.</p>
</dd>
<dt><kbd><span class="option">--bwlimit</span>, <span class="option">-b</span></kbd></dt>
<dd><p>Bandwidth limit in KBPS.</p>
</dd>
<dt><kbd><span class="option">--ssh-port</span>, <span class="option">-P</span></kbd></dt>
<dd><p>Custom ssh port.</p>
</dd>
<dt><kbd><span class="option">--exclude</span>, <span class="option">-E</span></kbd></dt>
<dd><p>Exclude pattern. Follow rsync “Exclude Pattern Rules”</p>
</dd>
<dt><kbd><span class="option">--start-from</span>, <span class="option">-s</span></kbd></dt>
<dd><p>The new backup is based on another backup, specified by its ID.</p>
</dd>
</dl>
</dd>
</dl>
</li>
</ul>
<p>Flowchart of the differences between Differential and Incremental backup:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+----------+</span>   <span class="o">+----------+</span>   <span class="o">+----------+</span>
<span class="o">|</span>          <span class="o">|</span>   <span class="o">|</span>          <span class="o">|</span>   <span class="o">|</span>          <span class="o">|</span>
<span class="o">|</span>   <span class="n">Full</span>   <span class="o">|</span> <span class="o">&lt;-+</span>   <span class="n">Inc</span><span class="o">.</span>   <span class="o">|</span> <span class="o">&lt;-+</span>   <span class="n">Inc</span><span class="o">.</span>   <span class="o">|</span>
<span class="o">|</span>          <span class="o">|</span>   <span class="o">|</span>          <span class="o">|</span>   <span class="o">|</span>          <span class="o">|</span>
<span class="o">+----------+</span>   <span class="o">+----------+</span>   <span class="o">+----------+</span>

<span class="o">+----------+</span>   <span class="o">+----------+</span>   <span class="o">+----------+</span>
<span class="o">|</span>          <span class="o">|</span>   <span class="o">|</span>          <span class="o">|</span>   <span class="o">|</span>          <span class="o">|</span>
<span class="o">|</span>   <span class="n">Full</span>   <span class="o">|</span> <span class="o">&lt;-+</span>   <span class="n">Dif</span><span class="o">.</span>   <span class="o">|</span>   <span class="o">|</span>   <span class="n">Dif</span><span class="o">.</span>   <span class="o">|</span>
<span class="o">|</span>          <span class="o">|</span>   <span class="o">|</span>          <span class="o">|</span>   <span class="o">|</span>          <span class="o">|</span>
<span class="o">+----+-----+</span>   <span class="o">+----------+</span>   <span class="o">+----+-----+</span>
     <span class="o">^</span>                             <span class="o">|</span>
     <span class="o">|</span>                             <span class="o">|</span>
     <span class="o">+-----------------------------+</span>
</pre></div>
</div>
<section id="single-backup">
<span id="backup-computer"></span><h3>Single backup<a class="headerlink" href="#single-backup" title="Permalink to this heading"></a></h3>
<p>The backup of a single machine consists in taking the files and folders indicated in the command line,
and put them in the cataloging structure indicated above.</p>
<p>This is a few examples:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">arthur@heartofgold$ </span>bb<span class="w"> </span>backup<span class="w"> </span>--computer<span class="w"> </span>host1<span class="w"> </span>--destination<span class="w"> </span>/mnt/backup<span class="w"> </span>--data<span class="w"> </span>User<span class="w"> </span>Config<span class="w"> </span>--type<span class="w"> </span>MacOS
<span class="gp"># </span>host1<span class="w"> </span>SSH-2.0-OpenSSH_7.5
<span class="gp"># </span>host1<span class="w"> </span>SSH-2.0-OpenSSH_7.5
<span class="go">Start backup on host1</span>
<span class="go">success: Command rsync -ah --no-links arthur@host1:/Users :/private/etc /mnt/backup/host1/2018_08_08__10_28</span>
</pre></div>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Without specifying the “mode” flag, Butterfly Backup by default selects <em>Incremental</em> mode</p>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">arthur@heartofgold$ </span>bb<span class="w"> </span>backup<span class="w"> </span>--computer<span class="w"> </span>host1<span class="w"> </span>--destination<span class="w"> </span>/mnt/backup<span class="w"> </span>--mode<span class="w"> </span>Full<span class="w"> </span>--data<span class="w"> </span>User<span class="w"> </span>Config<span class="w"> </span>--type<span class="w"> </span>MacOS<span class="w"> </span>--user<span class="w"> </span>root
<span class="go">root@host1&#39;s password:</span>
<span class="go">Start backup on host1</span>
<span class="go">success: Command rsync -ah --no-links root@host1:/Users :/private/etc /mnt/backup/host1/2018_08_08__10_30</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">arthur@heartofgold$ </span>bb<span class="w"> </span>backup<span class="w"> </span>--computer<span class="w"> </span>host1<span class="w"> </span>--destination<span class="w"> </span>/mnt/backup<span class="w"> </span>--data<span class="w"> </span>User<span class="w"> </span>Config<span class="w"> </span>--type<span class="w"> </span>MacOS<span class="w"> </span>--verbose<span class="w"> </span>--log
<span class="go">debug: Build a rsync command</span>
<span class="go">debug: Last full is 2018-08-08 10:30:32</span>
<span class="go">debug: Command flags are: rsync -ahu --no-links --link-dest=/mnt/backup/host1/2018_08_08__10_28 -vP</span>
<span class="go">debug: Create a folder structure for MacOS os</span>
<span class="go">debug: Include this criteria: :/Users :/private/etc</span>
<span class="go">debug: Destination is /mnt/backup/host1/2018_08_08__10_42</span>
<span class="go">Start backup on host1</span>
<span class="go">debug: rsync command: rsync -ahu --no-links --link-dest=/mnt/backup/host1/2018_08_08__10_30 arthur@host1:/Users :/private/etc /mnt/backup/host1/2018_08_08__10_42</span>
<span class="go">receiving file list ...</span>
<span class="go">39323 files to consider</span>
<span class="go">Users/</span>
<span class="go">...</span>
<span class="go">...</span>
<span class="go">sent 18.91K bytes  received 1.59M bytes  25.74K bytes/sec</span>
<span class="go">total size is 6.67G  speedup is 4143.59</span>
<span class="go">success: Command rsync -ahu --no-links --link-dest=/mnt/backup/host1/2018_08_08__10_30 arthur@host1:/Users :/private/etc /mnt/backup/host1/2018_08_08__10_42</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the backup destination is an MS-DOS fs, it will not support symlink creation. The message that will be returned is as follows:
<code class="docutils literal notranslate"><span class="pre">warning:</span> <span class="pre">MS-DOS</span> <span class="pre">file</span> <span class="pre">system</span> <span class="pre">doesn't</span> <span class="pre">support</span> <span class="pre">symlink</span> <span class="pre">file.</span></code></p>
</div>
</section>
<section id="bulk-backup">
<span id="id4"></span><h3>Bulk backup<a class="headerlink" href="#bulk-backup" title="Permalink to this heading"></a></h3>
<p>Bulk backup follows the same logic and the same options as a single backup, but accepts a file containing the names or ips of the machine to be backed up.</p>
<p>This is a few examples:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">arthur@heartofgold$ </span>bb<span class="w"> </span>backup<span class="w"> </span>--list<span class="w"> </span>/home/arthur/pclist.txt<span class="w"> </span>--destination<span class="w"> </span>/mnt/backup<span class="w"> </span>--data<span class="w"> </span>User<span class="w"> </span>Config<span class="w"> </span>--type<span class="w"> </span>MacOS
<span class="gp"># </span>host1<span class="w"> </span>SSH-2.0-OpenSSH_7.5
<span class="gp"># </span>host1<span class="w"> </span>SSH-2.0-OpenSSH_7.5
<span class="go">error: The port 22 on host2 is closed!</span>
<span class="go">error: The port 22 on host3 is closed!</span>
<span class="go">Start backup on host1</span>
<span class="go">success: Command rsync -ahu --no-links --link-dest=/mnt/backup/host1/2018_08_08__10_30 arthur@host1:/Users :/private/etc /mnt/backup/host1/2018_08_08__10_50</span>
</pre></div>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Port 22 (OpenSSH standard) is tested in order to verify the reachability of the machine. If the machine is not reachable, an error is generated:
<code class="docutils literal notranslate"><span class="pre">error:</span> <span class="pre">The</span> <span class="pre">port</span> <span class="pre">22</span> <span class="pre">on</span> <span class="pre">host2</span> <span class="pre">is</span> <span class="pre">closed!</span></code></p>
</div>
<p>This example, is the same as the previous one, with the only difference being that the parallel flag is specified at 2.
This means that maximum two backup jobs will run at the same time. When a first process ends, another one is started.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">arthur@heartofgold$ </span>bb<span class="w"> </span>backup<span class="w"> </span>--list<span class="w"> </span>/home/arthur/pclist.txt<span class="w"> </span>--destination<span class="w"> </span>/mnt/backup<span class="w"> </span>--data<span class="w"> </span>User<span class="w"> </span>Config<span class="w"> </span>--type<span class="w"> </span>MacOS<span class="w"> </span>--parallel<span class="w"> </span><span class="m">2</span><span class="w"> </span>--log
<span class="gp"># </span>host1<span class="w"> </span>SSH-2.0-OpenSSH_7.5
<span class="gp"># </span>host1<span class="w"> </span>SSH-2.0-OpenSSH_7.5
<span class="go">error: The port 22 on host2 is closed!</span>
<span class="go">error: The port 22 on host3 is closed!</span>
<span class="go">Start backup on host1</span>
<span class="go">success: Command rsync -ahu --no-links --link-dest=/mnt/backup/host1/2018_08_08__10_30 arthur@host1:/Users :/private/etc /mnt/backup/host1/2018_08_08__10_58</span>
</pre></div>
</div>
<p>This is the same example but specifying a retention at 3 (days). This means that in doing so we want to keep only 3 days backups.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">arthur@heartofgold$ </span>bb<span class="w"> </span>backup<span class="w"> </span>--list<span class="w"> </span>/home/arthur/pclist.txt<span class="w"> </span>--destination<span class="w"> </span>/mnt/backup<span class="w"> </span>--data<span class="w"> </span>User<span class="w"> </span>Config<span class="w"> </span>--type<span class="w"> </span>MacOS<span class="w"> </span>--parallel<span class="w"> </span><span class="m">2</span><span class="w"> </span>--retention<span class="w"> </span><span class="m">3</span><span class="w"> </span>--log<span class="w"> </span>--verbose
<span class="go">debug: Build a rsync command</span>
<span class="go">debug: Last full is 2018-08-08 10:30:32</span>
<span class="go">debug: Command flags are: rsync -ahu --no-links --link-dest=/mnt/backup/host1/2018_08_08__10_30 -vP</span>
<span class="go">debug: Create a folder structure for MacOS os</span>
<span class="go">debug: Include this criteria: :/Users :/private/etc</span>
<span class="go">debug: Destination is /mnt/backup/host1/2018_08_08__10_30</span>
<span class="go">Start backup on host1</span>
<span class="go">error: The port 22 on host2 is closed!</span>
<span class="go">error: The port 22 on host3 is closed!</span>
<span class="go">debug: rsync command: rsync -ahu --no-links --link-dest=/mnt/backup/host1/2018_08_08__10_30 arthur@host1:/Users :/private/etc /mnt/backup/host1/2018_08_08__10_58</span>
<span class="go">receiving file list ...</span>
<span class="go">39323 files to consider</span>
<span class="go">Users/</span>
<span class="go">...</span>
<span class="go">...</span>
<span class="go">success: Command rsync -ahu --no-links --link-dest=/mnt/backup/host1/2018_08_08__10_30 arthur@host1:/Users :/private/etc /mnt/backup/host1/2018_08_08__10_58</span>
<span class="go">debug: Check cleanup this backup aba860b0-9944-11e8-a93f-005056a664e0. Folder /mnt/backup/host1/2018_08_08__10_28</span>
<span class="go">success: Cleanup /mnt/backup/host1/2018_08_08__10_28 successfully.</span>
<span class="go">debug: Check cleanup this backup cc6e2744-9944-11e8-b82a-005056a664e0. Folder /mnt/backup/host1/2018_08_08__10_30</span>
<span class="go">debug: No cleanup backup cc6e2744-9944-11e8-b82a-005056a664e0. Folder /mnt/backup/host1/2018_08_08__10_30</span>
</pre></div>
</div>
<p>Here we find the same example above but specifying a retention at 2 (days) and 5 backup copies. This means that at least 5 backup copies will be kept, even if they are older than two days.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">arthur@heartofgold$ </span>bb<span class="w"> </span>backup<span class="w"> </span>--list<span class="w"> </span>/home/arthur/pclist.txt<span class="w"> </span>--destination<span class="w"> </span>/mnt/backup<span class="w"> </span>--data<span class="w"> </span>User<span class="w"> </span>Config<span class="w"> </span>--type<span class="w"> </span>MacOS<span class="w"> </span>--parallel<span class="w"> </span><span class="m">2</span><span class="w"> </span>--retention<span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">5</span><span class="w"> </span>--log<span class="w"> </span>--verbose
<span class="go">debug: Build a rsync command</span>
<span class="go">debug: Last full is 2018-08-08 10:30:32</span>
<span class="go">debug: Command flags are: rsync -ahu --no-links --link-dest=/mnt/backup/host1/2018_08_08__10_30 -vP</span>
<span class="go">debug: Create a folder structure for MacOS os</span>
<span class="go">debug: Include this criteria: :/Users :/private/etc</span>
<span class="go">debug: Destination is /mnt/backup/host1/2018_08_08__10_30</span>
<span class="go">Start backup on host1</span>
<span class="go">error: The port 22 on host2 is closed!</span>
<span class="go">error: The port 22 on host3 is closed!</span>
<span class="go">debug: rsync command: rsync -ahu --no-links --link-dest=/mnt/backup/host1/2018_08_08__10_30 arthur@host1:/Users :/private/etc /mnt/backup/host1/2018_08_08__10_58</span>
<span class="go">receiving file list ...</span>
<span class="go">39323 files to consider</span>
<span class="go">Users/</span>
<span class="go">...</span>
<span class="go">...</span>
<span class="go">success: Command rsync -ahu --no-links --link-dest=/mnt/backup/host1/2018_08_08__10_30 arthur@host1:/Users :/private/etc /mnt/backup/host1/2018_08_08__10_58</span>
<span class="go">debug: Check cleanup this backup aba860b0-9944-11e8-a93f-005056a664e0. Folder /mnt/backup/host1/2018_08_08__10_28</span>
<span class="go">success: Cleanup /mnt/backup/host1/2018_08_08__10_28 successfully.</span>
<span class="go">debug: Check cleanup this backup cc6e2744-9944-11e8-b82a-005056a664e0. Folder /mnt/backup/host1/2018_08_08__10_30</span>
<span class="go">debug: No cleanup backup cc6e2744-9944-11e8-b82a-005056a664e0. Folder /mnt/backup/host1/2018_08_08__10_30</span>
</pre></div>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>If there is only one Full in our catalog, the retention policy will never delete that Full backup,
but only Increments. We recommend doing more Full for better retention management.</p>
</div>
</section>
</section>
<section id="list">
<span id="id5"></span><h2>List<a class="headerlink" href="#list" title="Permalink to this heading"></a></h2>
<p>When we run backup commands, a catalog is created. This serves both for future backups and all the restores that are made through Butterfly Backup.
To query this catalog, the list command exists.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">arthur@heartofgold$ </span>bb<span class="w"> </span>list<span class="w"> </span>--help
<span class="go">usage: bb list [-h] [--verbose] [--log] [--dry-run] --catalog CATALOG</span>
<span class="go">               [--backup-id ID | --archived | --cleaned | --computer HOSTNAME | --detail ID]</span>
<span class="go">               [--oneline]</span>

<span class="go">optional arguments:</span>
<span class="go">  -h, --help            show this help message and exit</span>
<span class="go">  --verbose, -v         Enable verbosity</span>
<span class="go">  --log, -l             Create a log</span>
<span class="go">  --dry-run, -N         Dry run mode</span>

<span class="go">List options:</span>
<span class="go">  --catalog CATALOG, -C CATALOG</span>
<span class="go">                        Folder where is catalog file</span>
<span class="go">  --backup-id ID, -i ID</span>
<span class="go">                        Backup-id of backup</span>
<span class="go">  --archived, -a        List only archived backup</span>
<span class="go">  --cleaned, -c         List only cleaned backup</span>
<span class="go">  --computer HOSTNAME, -H HOSTNAME</span>
<span class="go">                        List only match hostname or ip</span>
<span class="go">  --detail ID, -d ID    List detail of file and folder of specific backup-id</span>
<span class="go">  --oneline, -o         One line output</span>
</pre></div>
</div>
<ul>
<li><dl>
<dt><strong>List options</strong></dt><dd><dl class="option-list">
<dt><kbd><span class="option">--catalog</span>, <span class="option">-C</span></kbd></dt>
<dd><p>Select the backups folder (root).</p>
</dd>
<dt><kbd><span class="option">--backup-id</span>, <span class="option">-i</span></kbd></dt>
<dd><p>Select backup id in the catalog.</p>
</dd>
<dt><kbd><span class="option">--archived</span>, <span class="option">-a</span></kbd></dt>
<dd><p>List only archived backups.</p>
</dd>
<dt><kbd><span class="option">--cleaned</span>, <span class="option">-c</span></kbd></dt>
<dd><p>List only cleaned backups.</p>
</dd>
<dt><kbd><span class="option">--computer</span>, <span class="option">-H</span></kbd></dt>
<dd><p>List only match hostname or ip.</p>
</dd>
<dt><kbd><span class="option">--detail</span>, <span class="option">-d</span></kbd></dt>
<dd><p>List detail of file and folder of specific backup-id.</p>
</dd>
<dt><kbd><span class="option">--oneline</span>, <span class="option">-o</span></kbd></dt>
<dd><p>One line and concise output.</p>
</dd>
</dl>
</dd>
</dl>
</li>
</ul>
<p>First, let’s query the catalog:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">arthur@heartofgold$ </span>bb<span class="w"> </span>list<span class="w"> </span>--catalog<span class="w"> </span>/mnt/backup

<span class="go">BUTTERFLY BACKUP CATALOG</span>

<span class="go">Backup id: aba860b0-9944-11e8-a93f-005056a664e0</span>
<span class="go">Hostname or ip: host1</span>
<span class="go">Timestamp: 2018-08-08 10:28:12</span>

<span class="go">Backup id: cc6e2744-9944-11e8-b82a-005056a664e0</span>
<span class="go">Hostname or ip: host1</span>
<span class="go">Timestamp: 2018-08-08 10:30:59</span>

<span class="go">Backup id: dd6de2f2-9a1e-11e8-82b0-005056a664e0</span>
<span class="go">Hostname or ip: host1</span>
<span class="go">Timestamp: 2018-08-08 10:58:59</span>
</pre></div>
</div>
<p>Press <code class="docutils literal notranslate"><span class="pre">q</span></code> for exit. Then we select a backup-id:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">arthur@heartofgold$ </span>bb<span class="w"> </span>list<span class="w"> </span>--catalog<span class="w"> </span>/mnt/backup<span class="w"> </span>--backup-id<span class="w"> </span>dd6de2f2-9a1e-11e8-82b0-005056a664e0
<span class="go">Backup id: dd6de2f2-9a1e-11e8-82b0-005056a664e0</span>
<span class="go">Hostname or ip: host1</span>
<span class="go">Type: Incremental</span>
<span class="go">Timestamp: 2018-08-08 10:58:59</span>
<span class="go">Start: 2018-08-08 10:58:59</span>
<span class="go">Finish: 2018-08-08 11:02:49</span>
<span class="go">OS: MacOS</span>
<span class="go">ExitCode: 0</span>
<span class="go">Path: /mnt/backup/host1/2018_08_08__10_58</span>
<span class="go">List: backup.log</span>
<span class="go">etc</span>
<span class="go">Users</span>
</pre></div>
</div>
<p>If you want to export the catalog list instead, include the log flag:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">arthur@heartofgold$ </span>bb<span class="w"> </span>list<span class="w"> </span>--catalog<span class="w"> </span>/mnt/backup<span class="w"> </span>--log
<span class="gp">arthur@heartofgold$ </span>cat<span class="w"> </span>/mnt/backup/backup.list
</pre></div>
</div>
<p>Instead if you want to see the details of your backup, add details flag:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">arthur@heartofgold$ </span>bb<span class="w"> </span>list<span class="w"> </span>--catalog<span class="w"> </span>/mnt/backup<span class="w"> </span>--detail<span class="w"> </span>dd6de2f2-9a1e-11e8-82b0-005056a664e0
</pre></div>
</div>
<p>Now that we have identified a backup, let’s proceed with the restore</p>
</section>
<section id="restore">
<span id="id6"></span><h2>Restore<a class="headerlink" href="#restore" title="Permalink to this heading"></a></h2>
<p>The restore process is the exact opposite of the backup process. It takes the files from a specific backup and push it to the destination computer.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">arthur@heartofgold$ </span>bb<span class="w"> </span>restore<span class="w"> </span>--help
<span class="go">usage: bb restore [-h] [--verbose] [--log] [--dry-run] --catalog CATALOG (--backup-id ID | --last) [--user USER] --computer HOSTNAME [--type {Unix,Windows,MacOS}] [--timeout TIMEOUT] [--mirror] [--skip-error]</span>
<span class="go">               [--rsync-path RSYNC] [--bwlimit BWLIMIT] [--ssh-port PORT] [--exclude EXCLUDE [EXCLUDE ...]] [--files FILES [FILES ...]]</span>

<span class="go">options:</span>
<span class="go">-h, --help            show this help message and exit</span>
<span class="go">--verbose, -v         Enable verbosity</span>
<span class="go">--log, -l             Create logs</span>
<span class="go">--dry-run, -N         Dry run mode</span>

<span class="go">Restore options:</span>
<span class="go">--catalog CATALOG, -C CATALOG</span>
<span class="go">                        Folder where is catalog file</span>
<span class="go">--backup-id ID, -i ID</span>
<span class="go">                        Backup-id of backup</span>
<span class="go">--last, -L              Last available backup</span>
<span class="go">--user USER, -u USER    Login name used to log into the remote host (where you&#39;re restoring)</span>
<span class="go">--computer HOSTNAME, -c HOSTNAME</span>
<span class="go">                        Hostname or ip address to perform restore</span>
<span class="go">--type {Unix,Windows,MacOS}, -t {Unix,Windows,MacOS}</span>
<span class="go">                        Type of operating system to perform restore</span>
<span class="go">--timeout TIMEOUT, -T TIMEOUT</span>
<span class="go">                        I/O timeout in seconds</span>
<span class="go">--mirror, -m            Mirror mode</span>
<span class="go">--skip-error, -e        Skip error</span>
<span class="go">--rsync-path RSYNC, -R RSYNC</span>
<span class="go">                        Custom rsync path</span>
<span class="go">--bwlimit BWLIMIT, -b BWLIMIT</span>
<span class="go">                        Bandwidth limit in KBPS.</span>
<span class="go">--ssh-port PORT, -P PORT</span>
<span class="go">                        Custom ssh port.</span>
<span class="go">--exclude EXCLUDE [EXCLUDE ...], -E EXCLUDE [EXCLUDE ...]</span>
<span class="go">                        Exclude pattern</span>
<span class="go">--files FILES [FILES ...], -f FILES [FILES ...]</span>
<span class="go">                        Restore only specified files</span>
</pre></div>
</div>
<ul>
<li><dl>
<dt><strong>Restore options</strong></dt><dd><dl class="option-list">
<dt><kbd><span class="option">--catalog</span>, <span class="option">-C</span></kbd></dt>
<dd><p>Select the backups folder (root).</p>
</dd>
<dt><kbd><span class="option">--backup-id</span></kbd></dt>
<dd><p>Select backup id in the catalog.</p>
</dd>
<dt><kbd><span class="option">--last</span>, <span class="option">-L</span></kbd></dt>
<dd><p>Select last available backup in the catalog for same hostname or ip address.</p>
</dd>
<dt><kbd><span class="option">--user</span>, <span class="option">-u</span></kbd></dt>
<dd><p>User of remote machine where you want to restore files.</p>
</dd>
<dt><kbd><span class="option">--computer</span>, <span class="option">-c</span></kbd></dt>
<dd><p>Select the ip or hostname where to perform restore.</p>
</dd>
<dt><kbd><span class="option">--type</span>, <span class="option">-t</span></kbd></dt>
<dd><p>Type of operating system to put under backup:</p>
<ul class="simple">
<li><p><strong>Unix</strong> -&gt; All UNIX os (Linux, BSD, Solaris).</p></li>
<li><p><strong>Windows</strong> -&gt; Windows Vista or higher with cygwin installed.</p></li>
<li><p><strong>MacOS</strong> -&gt; MacOSX 10.8 or higher.</p></li>
</ul>
</dd>
<dt><kbd><span class="option">--timeout</span>, <span class="option">-T</span></kbd></dt>
<dd><p>Specify number of seconds of I/O timeout.</p>
</dd>
<dt><kbd><span class="option">--mirror</span>, <span class="option">-m</span></kbd></dt>
<dd><p>Mirror mode. If a file or folder not exist in destination, will delete it. Overwrite files.</p>
</dd>
<dt><kbd><span class="option">--skip-error</span>, <span class="option">-e</span></kbd></dt>
<dd><p>Skip error. Quiet mode.</p>
</dd>
<dt><kbd><span class="option">--rsync-path</span>, <span class="option">-R</span></kbd></dt>
<dd><p>Select a custom rsync path.</p>
</dd>
<dt><kbd><span class="option">--bwlimit</span>, <span class="option">-b</span></kbd></dt>
<dd><p>Bandwidth limit in KBPS.</p>
</dd>
<dt><kbd><span class="option">--ssh-port</span>, <span class="option">-P</span></kbd></dt>
<dd><p>Custom ssh port.</p>
</dd>
<dt><kbd><span class="option">--exclude</span>, <span class="option">-E</span></kbd></dt>
<dd><p>Exclude pattern. Follow rsync “Exclude Pattern Rules”.</p>
</dd>
<dt><kbd><span class="option">--files</span>, <span class="option">-f</span></kbd></dt>
<dd><p>Restore only specified files.</p>
</dd>
</dl>
</dd>
</dl>
</li>
</ul>
<p>This is a few examples:</p>
<p>This command perform a restore on the same machine of the backup:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">arthur@heartofgold$ </span>bb<span class="w"> </span>restore<span class="w"> </span>--catalog<span class="w"> </span>/mnt/backup<span class="w"> </span>--backup-id<span class="w"> </span>dd6de2f2-9a1e-11e8-82b0-005056a664e0<span class="w"> </span>--computer<span class="w"> </span>host1<span class="w"> </span>--log
<span class="go">Want to do restore path /mnt/backup/host1/2018_08_08__10_58/etc? To continue [Y/N]? y</span>
<span class="go">Want to do restore path /mnt/backup/host1/2018_08_08__10_58/Users? To continue [Y/N]? y</span>
<span class="go">success: Command rsync -ahu -vP --log-file=/mnt/backup/host1/2018_08_08__10_58/restore.log /mnt/backup/host1/2018_08_08__10_58/etc arthur@host1:/restore_2018_08_08__10_58</span>
<span class="go">success: Command rsync -ahu -vP --log-file=/mnt/backup/host1/2018_08_08__10_58/restore.log /mnt/backup/host1/2018_08_08__10_58/Users/* arthur@host1:/Users</span>
</pre></div>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Without specifying the “type” flag that indicates the operating system on which the data are being retrieved,
Butterfly Backup will select it directly from the catalog via the backup-id.</p>
</div>
<p>Now, select the last available backup on catalog; run this:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">arthur@heartofgold$ </span>bb<span class="w"> </span>restore<span class="w"> </span>--catalog<span class="w"> </span>/mnt/backup<span class="w"> </span>--last<span class="w"> </span>--computer<span class="w"> </span>host1<span class="w"> </span>--log
<span class="go">Want to do restore path /mnt/backup/host1/2018_08_08__10_58/etc? To continue [Y/N]? y</span>
<span class="go">Want to do restore path /mnt/backup/host1/2018_08_08__10_58/Users? To continue [Y/N]? y</span>
<span class="go">success: Command rsync -ahu -vP --log-file=/mnt/backup/host1/2018_08_08__10_58/restore.log /mnt/backup/host1/2018_08_08__10_58/etc arthur@host1:/restore_2018_08_08__10_59</span>
<span class="go">success: Command rsync -ahu -vP --log-file=/mnt/backup/host1/2018_08_08__10_58/restore.log /mnt/backup/host1/2018_08_08__10_58/Users/* arthur@host1:/Users</span>
</pre></div>
</div>
<p>This example, is the same as the previous one, but restore to other machine and other operating system:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">arthur@heartofgold$ </span>bb<span class="w"> </span>restore<span class="w"> </span>--catalog<span class="w"> </span>/mnt/backup<span class="w"> </span>--backup-id<span class="w"> </span>dd6de2f2-9a1e-11e8-82b0-005056a664e0<span class="w"> </span>--computer<span class="w"> </span>host2<span class="w"> </span>--type<span class="w"> </span>Unix<span class="w"> </span>--log<span class="w"> </span>--verbose
<span class="go">debug: Build a rsync command</span>
<span class="go">debug: Command flags are: rsync -ahu -vP --log-file=/mnt/backup/host1/2018_08_08__10_58/restore.log</span>
<span class="go">Want to do restore path /mnt/backup/host1/2018_08_08__10_58/etc? To continue [Y/N]? y</span>
<span class="go">debug: Build a rsync command</span>
<span class="go">debug: Command flags are: rsync -ahu -vP --log-file=/mnt/backup/host1/2018_08_08__10_58/restore.log</span>
<span class="go">Want to do restore path /mnt/backup/host1/2018_08_08__10_58/Users? To continue [Y/N]? y</span>
<span class="go">Start restore on host2</span>
<span class="go">debug: rsync command: rsync -ahu -vP --log-file=/mnt/backup/host1/2018_08_08__10_58/restore.log /mnt/backup/host1/2018_08_08__10_58/etc/* arthur@host2:/etc</span>
<span class="go">Start restore on host2</span>
<span class="go">debug: rsync command: rsync -ahu -vP --log-file=/mnt/backup/host1/2018_08_08__10_58/restore.log /mnt/backup/host1/2018_08_08__10_58/Users/* arthur@host2:/home</span>
<span class="go">building file list ...</span>
<span class="go">26633 files to consider</span>
<span class="go">...</span>
<span class="go">...</span>
<span class="go">sent 777.53K bytes  received 20 bytes  62.20K bytes/sec</span>
<span class="go">total size is 6.66G  speedup is 8566.41</span>
<span class="go">success: Command rsync -ahu -vP --log-file=/mnt/backup/host1/2018_08_08__10_58/restore.log /mnt/backup/host1/2018_08_08__10_58/etc/* arthur@host2:/etc</span>
<span class="go">success: Command rsync -ahu -vP --log-file=/mnt/backup/host1/2018_08_08__10_58/restore.log /mnt/backup/host1/2018_08_08__10_58/Users/* arthur@host2:/home</span>
</pre></div>
</div>
</section>
<section id="archive">
<span id="id7"></span><h2>Archive<a class="headerlink" href="#archive" title="Permalink to this heading"></a></h2>
<p>Archive operations are used to store backups by saving disk space. Backups older than n days are compressed into a zip file.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">arthur@heartofgold$ </span>bb<span class="w"> </span>archive<span class="w"> </span>--help
<span class="go">usage: bb archive [-h] [--verbose] [--log] [--dry-run] --catalog CATALOG</span>
<span class="go">                  [--days DAYS] --destination DESTINATION</span>

<span class="go">optional arguments:</span>
<span class="go">  -h, --help            show this help message and exit</span>
<span class="go">  --verbose, -v         Enable verbosity</span>
<span class="go">  --log, -l             Create a log</span>
<span class="go">  --dry-run, -N         Dry run mode</span>

<span class="go">Archive options:</span>
<span class="go">  --catalog CATALOG, -C CATALOG</span>
<span class="go">                        Folder where is catalog file</span>
<span class="go">  --days DAYS, -D DAYS  Number of days of archive retention</span>
<span class="go">  --destination DESTINATION, -d DESTINATION</span>
<span class="go">                        Archive destination path</span>
</pre></div>
</div>
<ul>
<li><dl>
<dt><strong>Archive options</strong></dt><dd><dl class="option-list">
<dt><kbd><span class="option">--catalog</span>, <span class="option">-C</span></kbd></dt>
<dd><p>Select the backups folder (root).</p>
</dd>
<dt><kbd><span class="option">--days</span>, <span class="option">-D</span></kbd></dt>
<dd><p>Number of days for which you want to keep your backups. Default is 30.</p>
</dd>
<dt><kbd><span class="option">--destination</span>, <span class="option">-d</span></kbd></dt>
<dd><p>New destination for compress zipped backup.</p>
</dd>
</dl>
</dd>
</dl>
</li>
</ul>
<p>Archive old backup of 3 days:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">arthur@heartofgold$ </span>bb<span class="w"> </span>archive<span class="w"> </span>--catalog<span class="w"> </span>/mnt/backup/<span class="w"> </span>--days<span class="w"> </span><span class="m">3</span><span class="w"> </span>--destination<span class="w"> </span>/mnt/archive/<span class="w"> </span>--verbose<span class="w"> </span>--log
<span class="go">debug: Check archive this backup f65e5afe-9734-11e8-b0bb-005056a664e0. Folder /mnt/backup/host2/2018_08_08__17_50</span>
<span class="go">debug: Check archive this backup 4f2b5f6e-9939-11e8-9ab6-005056a664e0. Folder /mnt/backup/host2/2018_08_04__07_26</span>
<span class="go">success: Delete /mnt/backup/host2/2018_08_04__07_26 successfully.</span>
<span class="go">success: Archive /mnt/backup/host2/2018_08_04__07_26 successfully.</span>
<span class="gp">arthur@heartofgold$ </span>ls<span class="w"> </span>/mnt/archive
<span class="go">host1</span>
<span class="gp">arthur@heartofgold$ </span>ls<span class="w"> </span>/mnt/archive/host1
<span class="go">2018_08_06__07_26.zip</span>
</pre></div>
</div>
<p>The backup-id <em>f65e5afe-9734-11e8-b0bb-005056a664e0</em> it is not considered, because it falls within the established time.
The other, however, is zipped and deleted.</p>
<p>Lastly, let’s look in the catalog and see that the backup was actually archived:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">arthur@heartofgold$ </span>bb<span class="w"> </span>list<span class="w"> </span>--catalog<span class="w"> </span>/mnt/backup/<span class="w"> </span>-i<span class="w"> </span>4f2b5f6e-9939-11e8-9ab6-005056a664e0
<span class="go">Backup id: 4f2b5f6e-9939-11e8-9ab6-005056a664e0</span>
<span class="go">Hostname or ip: host2</span>
<span class="go">Type: Incremental</span>
<span class="go">Timestamp: 2018-08-08 07:26:46</span>
<span class="go">Start: 2018-08-08 07:26:46</span>
<span class="go">Finish: 2018-08-08 08:43:45</span>
<span class="go">OS: MacOS</span>
<span class="go">ExitCode: 0</span>
<span class="go">Path: /mnt/backup/host2/2018_08_04__07_26</span>
<span class="go">Archived: True</span>
</pre></div>
</div>
</section>
<section id="export">
<span id="id8"></span><h2>Export<a class="headerlink" href="#export" title="Permalink to this heading"></a></h2>
<p>The export function is used to copy a particular backup to another path.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">arthur@heartofgold$ </span>bb<span class="w"> </span><span class="nb">export</span><span class="w"> </span>-h
<span class="go">usage: bb export [-h] [--verbose] [--log] [--dry-run] --catalog CATALOG</span>
<span class="go">                 [--backup-id ID | --all] --destination DESTINATION [--mirror]</span>
<span class="go">                 [--cut] [--include INCLUDE [INCLUDE ...] | --exclude EXCLUDE</span>
<span class="go">                 [EXCLUDE ...]] [--timeout TIMEOUT] [--skip-error]</span>
<span class="go">                 [--rsync-path RSYNC] [--bwlimit BWLIMIT] [--ssh-port PORT]</span>

<span class="go">optional arguments:</span>
<span class="go">  -h, --help            show this help message and exit</span>
<span class="go">  --verbose, -v         Enable verbosity</span>
<span class="go">  --log, -l             Create a log</span>
<span class="go">  --dry-run, -N         Dry run mode</span>

<span class="go">Export options:</span>
<span class="go">  --catalog CATALOG, -C CATALOG</span>
<span class="go">                        Folder where is catalog file</span>
<span class="go">  --backup-id ID, -i ID</span>
<span class="go">                        Backup-id of backup</span>
<span class="go">  --all, -A             All backup</span>
<span class="go">  --destination DESTINATION, -d DESTINATION</span>
<span class="go">                        Destination path</span>
<span class="go">  --mirror, -m          Mirror mode</span>
<span class="go">  --cut, -c             Cut mode. Delete source</span>
<span class="go">  --include INCLUDE [INCLUDE ...], -I INCLUDE [INCLUDE ...]</span>
<span class="go">                        Include pattern</span>
<span class="go">  --exclude EXCLUDE [EXCLUDE ...], -E EXCLUDE [EXCLUDE ...]</span>
<span class="go">                        Exclude pattern</span>
<span class="go">  --timeout TIMEOUT, -T TIMEOUT</span>
<span class="go">                        I/O timeout in seconds</span>
<span class="go">  --skip-error, -e      Skip error</span>
<span class="go">  --rsync-path RSYNC, -R RSYNC</span>
<span class="go">                        Custom rsync path</span>
<span class="go">  --bwlimit BWLIMIT, -b BWLIMIT</span>
<span class="go">                        Bandwidth limit in KBPS.</span>
<span class="go">  --ssh-port PORT, -P PORT</span>
<span class="go">                        Custom ssh port.</span>
</pre></div>
</div>
<ul>
<li><dl>
<dt><strong>Export options</strong></dt><dd><dl class="option-list">
<dt><kbd><span class="option">--catalog</span>, <span class="option">-C</span></kbd></dt>
<dd><p>Select the backups folder (root).</p>
</dd>
<dt><kbd><span class="option">--backup-id</span>, <span class="option">-i</span></kbd></dt>
<dd><p>Select backup id in the catalog.</p>
</dd>
<dt><kbd><span class="option">--all</span>, <span class="option">-A</span></kbd></dt>
<dd><p>All backup</p>
</dd>
<dt><kbd><span class="option">--destination</span>, <span class="option">-d</span></kbd></dt>
<dd><p>Destination path.</p>
</dd>
<dt><kbd><span class="option">--mirror</span>, <span class="option">-m</span></kbd></dt>
<dd><p>Mirror backup on destination.</p>
</dd>
<dt><kbd><span class="option">--cut</span>, <span class="option">-c</span></kbd></dt>
<dd><p>Delete source like a move.</p>
</dd>
<dt><kbd><span class="option">--include</span>, <span class="option">-I</span></kbd></dt>
<dd><p>Include pattern. Follow rsync “Include Pattern Rules”</p>
</dd>
<dt><kbd><span class="option">--exclude</span>, <span class="option">-E</span></kbd></dt>
<dd><p>Exclude pattern. Follow rsync “Exclude Pattern Rules”</p>
</dd>
<dt><kbd><span class="option">--timeout</span>, <span class="option">-T</span></kbd></dt>
<dd><p>Specify number of seconds of I/O timeout.</p>
</dd>
<dt><kbd><span class="option">--mirror</span>, <span class="option">-m</span></kbd></dt>
<dd><p>Mirror mode. If a file or folder not exist in destination, will delete it. Overwrite files.</p>
</dd>
<dt><kbd><span class="option">--skip-error</span>, <span class="option">-e</span></kbd></dt>
<dd><p>Skip error. Quiet mode.</p>
</dd>
<dt><kbd><span class="option">--rsync-path</span>, <span class="option">-R</span></kbd></dt>
<dd><p>Select a custom rsync path.</p>
</dd>
<dt><kbd><span class="option">--bwlimit</span>, <span class="option">-b</span></kbd></dt>
<dd><p>Bandwidth limit in KBPS.</p>
</dd>
<dt><kbd><span class="option">--ssh-port</span>, <span class="option">-P</span></kbd></dt>
<dd><p>Custom ssh port.</p>
</dd>
</dl>
</dd>
</dl>
</li>
</ul>
<p>Export a backup in other directory:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">arthur@heartofgold$ </span>bb<span class="w"> </span><span class="nb">export</span><span class="w"> </span>--catalog<span class="w"> </span>/mnt/backup/<span class="w"> </span>--backup-id<span class="w"> </span>f0f700e8-0435-11e9-9e78-005056a664e0<span class="w"> </span>--destination<span class="w"> </span>/mnt/backup/export<span class="w"> </span>--verbose
<span class="go">debug: Export backup with id f0f700e8-0435-11e9-9e78-005056a664e0</span>
<span class="go">debug: Build a rsync command</span>
<span class="go">Start export host1</span>
<span class="go">...</span>
<span class="go">debug: rsync command: rsync -ah --no-links -vP /mnt/backup/host1/2018_12_20__10_02 /mnt/backup/export/host1</span>
<span class="go">success: Command rsync -ah --no-links -vP /mnt/backup/host1/2018_12_20__10_02 /mnt/backup/export/host1</span>
</pre></div>
</div>
<p>Export all backup in other directory:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">arthur@heartofgold$ </span>bb<span class="w"> </span><span class="nb">export</span><span class="w"> </span>--catalog<span class="w"> </span>/mnt/backup/<span class="w"> </span>--all<span class="w"> </span>--destination<span class="w"> </span>/mnt/backup/export<span class="w"> </span>--verbose
<span class="go">debug: Export backup with id f0f700e8-0435-11e9-9e78-005056a664e0</span>
<span class="go">debug: Build a rsync command</span>
<span class="go">Start export host1</span>
<span class="go">...</span>
<span class="go">debug: rsync command: rsync -ah --no-links -vP /mnt/backup/host1/2018_12_20__10_02 /mnt/backup/export/host1</span>
<span class="go">success: Command rsync -ah --no-links -vP /mnt/backup/host1/2018_12_20__10_02 /mnt/backup/export/host1</span>
</pre></div>
</div>
<p>Export a backup with exclude pdf files:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">arthur@heartofgold$ </span>bb<span class="w"> </span><span class="nb">export</span><span class="w"> </span>--catalog<span class="w"> </span>/mnt/backup/<span class="w"> </span>--backup-id<span class="w"> </span>f0f700e8-0435-11e9-9e78-005056a664e0<span class="w"> </span>--destination<span class="w"> </span>/backup/export<span class="w"> </span>--verbose<span class="w"> </span>--exclude<span class="w"> </span>*.pdf
<span class="go">debug: Export backup with id f0f700e8-0435-11e9-9e78-005056a664e0</span>
<span class="go">debug: Build a rsync command</span>
<span class="go">Start export host1</span>
<span class="go">...</span>
<span class="go">debug: rsync command: rsync -ah --no-links -vP --exclude=*.pdf /mnt/backup/host1/2018_12_20__10_02 /mnt/backup/export/host1</span>
<span class="go">success: Command rsync -ah --no-links -vP --exclude=*.pdf /mnt/backup/host1/2018_12_20__10_02 /mnt/backup/export/host1</span>
</pre></div>
</div>
</section>
<section id="donations">
<span id="id9"></span><h2>Donations<a class="headerlink" href="#donations" title="Permalink to this heading"></a></h2>
<p>Donating is important.
If you do not want to do it to me, do it to some companies that do not speculate.
My main activity and the people of non-profit associations is to work for others, be they male or female, religious or non-religious, white or black or yellow or red, rich and poor.
The only real purpose is to serve the humanity of one’s experience.
Below you will find some links to do it. <strong>Thanks a lot</strong>.</p>
<p>For me</p>
<figure class="align-default">
<a class="reference external image-reference" href="https://www.paypal.me/guos"><img alt="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" /></a>
</figure>
<p>For <a class="reference external" href="http://www.telethon.it/">Telethon</a></p>
<p>The Telethon Foundation is a non-profit organization recognized by the Ministry of University and Scientific and Technological Research.
They were born in 1990 to respond to the appeal of patients suffering from rare diseases.
Come today, we are organized to dare to listen to them and answers, every day of the year.</p>
<figure class="align-default">
<a class="reference external image-reference" href="https://www.telethon.it/sostienici/dona-ora"><img alt="https://www.telethon.it/dev/_nuxt/img/926807f.svg" height="104px" src="https://www.telethon.it/dev/_nuxt/img/926807f.svg" width="200px" /></a>
</figure>
<p><a class="reference external" href="https://www.ioadottoilfuturo.it/">Adopt the future</a></p>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2018, Matteo Guadrini &lt;matteo.guadrini@hotmail.it&gt;.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>